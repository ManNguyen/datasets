<div class="container-fluid datasets-map-container">
  <leaflet ng-if="showMap"
    width="100%"
    layers="map.layers"
    bounds="map.bounds"
    defaults="map.defaults"
    controls="map.controls"
    event-broadcast="map.events">
    <span class="overlay-selectors" ng-if="map.legend[0]">
      <div class="radios">
        <div ng-repeat="overlay in visibleOverlays()">
            <label ng-class="{'selected': map.visible == '{{overlay}}', 'not-selected': map.visible != '{{overlay}}'}">
              <i class="fa" ng-class="{'fa-dot-circle-o': map.visible == '{{overlay}}', 'fa-circle-o': map.visible != '{{overlay}}'}">
              </i>
              <input type="radio"
                ng-model="map.visible"
                ng-value="'{{overlay}}'"
                ng-change="showOverlay('{{overlay}}')" />
              <span>{{overlay}}</span>
            </label>
        </div>
      </div>
      <div ng-repeat="item in map.legend">
        <i class="box" ng-style="{'background': item.color}"></i>
        <span>{{item.label}}</span>
      </div>
    </span>
  </leaflet>
  {{interactivity}}
</div>
